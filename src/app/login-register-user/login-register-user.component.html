<div class="container mt-6">
<h1 class="text center">Register User</h1>
<form [formGroup]="registerform" (ngSubmit)="registerFn()">

  <div class="mb-3">
    <label for="uname" class="form-label">Username</label>
    <input type="text" class="form-control" id="uname" placeholder="Username" formControlName="uname" [ngClass]="{ error: getControl('uname')?.errors && getControl('uname').touched }"/>
    <div *ngIf="getControl('uname')?.errors && getControl('uname')?.touched">
      <small class="text-danger" *ngIf="getControl('uname')?.errors?.['required']">Username is required</small>
      <small class="text-danger" *ngIf="getControl('uname')?.errors?.['maxlength']"> Max length allowed is 10 characters</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="password" class="form-label">Password</label>
    <input type="password" class="form-control" id="password" placeholder="Password" formControlName="password" [ngClass]="{error: getControl('password')?.errors && getControl('password').touched}"/>

    <div *ngIf="getControl('password')?.errors && getControl('password')?.touched">
      <small class="text-danger" *ngIf="getControl('password')?.errors?.['required']">Password is required</small>
      <small class="text-danger" *ngIf="getControl('password')?.errors?.['maxlength']"> Max length allowed is 10 characters</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="cpassword" class="form-label">Confirm Password</label>
    <input type="password" class="form-control" id="cpassword" placeholder="Confirm Password" formControlName="cpassword" [ngClass]="{error: getControl('cpassword')?.errors && getControl('cpassword').touched}"/>
    <div *ngIf="getControl('cpassword')?.errors?.['required'] && getControl('cpassword')?.touched || registerform.errors?.['passwordMisMatch']">
      <small *ngIf="getControl('cpassword')?.errors?.['required'] && getControl('cpassword')?.touched" class="text-danger" >Confirm password is required</small>
      <small *ngIf="registerform.errors?.['passwordMisMatch'] && getControl('cpassword')?.touched" class="text-danger">Password mismatched</small>

    </div>
  </div>

  <div class="mb-3">
    <label for="fname" class="form-label">First Name</label>
    <input type="text" class="form-control" id="fname" placeholder="First name" formControlName="fname" [ngClass]="{ error: getControl('fname')?.errors && getControl('fname').touched }"/>
    <div *ngIf="getControl('fname')?.errors && getControl('fname')?.touched">
      <small class="text-danger" *ngIf="getControl('fname')?.errors?.['required']">Firstname is required</small>
      <small class="text-danger" *ngIf="getControl('fname')?.errors?.['maxlength']"> Max length allowed is 10 characters</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="lname" class="form-label">Last Name</label>
    <input type="text" class="form-control" id="lname" placeholder="Last name" formControlName="lname" [ngClass]="{error: getControl('lname')?.errors && getControl('lname').touched}"/>
    <div *ngIf="getControl('lname')?.errors && getControl('lname')?.touched">
      <small class="text-danger" *ngIf="getControl('lname')?.errors?.['required']">Lastname is required</small>
      <small class="text-danger" *ngIf="getControl('lname')?.errors?.['maxlength']"> Max length allowed is 10 characters</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="age" class="form-label">Age</label>
    <input type="number" class="form-control" id="age" placeholder="Age" formControlName="age" [ngClass]="{error: getControl('age')?.errors && getControl('age').touched}"/>
    <div *ngIf="getControl('age')?.errors && getControl('age')?.touched">
      <small class="text-danger" *ngIf="getControl('age')?.errors?.['required']">Age is required</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="mobile" class="form-label">Mobile</label>
    <input type="text" class="form-control" id="mobile" placeholder="Mobile" formControlName="mobile" [ngClass]="{error: getControl('mobile')?.errors && getControl('mobile').touched}"/>
    <div *ngIf="getControl('mobile')?.errors && getControl('mobile')?.touched">
      <small class="text-danger" *ngIf="getControl('mobile')?.errors?.['required']">Mobile number is required</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">Email</label>
    <input type="email" class="form-control" id="email" placeholder="Email" formControlName="email" [ngClass]="{error: getControl('email')?.errors && getControl('email').touched}"/>
    <div *ngIf="getControl('email')?.errors && getControl('email')?.touched">
      <small class="text-danger" *ngIf="getControl('email')?.errors?.['required']">Email Id is required</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="address" class="form-label">Address</label>
    <input type="address" class="form-control" id="address" placeholder="Address" formControlName="address" [ngClass]="{error: getControl('address')?.errors && getControl('address').touched}"/>
    <div *ngIf="getControl('address')?.errors && getControl('address')?.touched">
      <small class="text-danger" *ngIf="getControl('address')?.errors?.['required']">Address is required</small>
    </div>
  </div>

  <div class="mb-3">
  <label for="country" class="form-label">Country</label>
  <select placeholder="country" class="form-control" id="country" formControlName="country"  (change)="selectedCountry($event)">
        <option [value]="count.countryId" *ngFor ="let count of countries">{{count.countryName}} </option>
    </select>
</div>

<div class="mb-3">
  <label for="state" class="form-label">State</label>
  <select placeholder="state" class="form-control" id="state" formControlName="state"  (change)="selectedState($event)">
        <option [value]="count.stateId" *ngFor ="let count of states">{{count.stateName}} </option>
    </select>
</div>
<div class="mb-3">
  <label for="city" class="form-label">City</label>
  <select placeholder="city" class="form-control" id="city" formControlName="city">
    <option [value]="count.stateId" *ngFor ="let count of cities">{{count.cityName}} </option>
    </select>
</div>
<div class="mb-3">
  <label for="pincode" class="form-label">Pincode</label>
  <input type="text" class="form-control" id="pincode" placeholder="Pincode" formControlName="pincode" [ngClass]="{error: getControl('pincode')?.errors && getControl('pincode').touched}"/>
  <div *ngIf="getControl('pincode')?.errors && getControl('pincode')?.touched">
    <small class="text-danger" *ngIf="getControl('pincode')?.errors?.['required']">Pincode is required</small>
  </div>
</div>


  <div class="mb-3">
    <button type="submit" class="btn btn-success" [disabled]="!registerform.valid">Submit</button>
  </div>

</form>

</div>
